---
title: 运行机制
header: develop
nav: framework
sidebar: operating-mechanism
---

启动方式
-----

智能小程序的启动方式分为两种:
- 首次加载智能小程序的冷启动；
- 一定时间内重新打开智能小程序的热启动。

**名词解释:**
- **冷启动:** 通常是用户首次打开智能小程序，或者在手机百度客户端主动销毁了智能小程序之后，用户又重新打开了智能小程序，在这两种情况下，智能小程序都会初始化启动。

- **热启动:** 用户已经访问过该智能小程序，短暂退出后，又重新回到智能小程序。这时手机百度不会销毁该智能小程序，而只是控制智能小程序的显隐。

销毁机制
-----

客户端主动触发智能小程序销毁的场景：
- 当用户退出智能小程序超过5分钟后；
- 当短时间内（5秒钟）连续收到两次系统内存报警时；
- 打开小程序数量超过系统支持上限6个(系统按照小程序被打开的先后顺序进行销毁)。

更新机制
-----

当智能小程序冷启动时，客户端会使用本地已有的基础包加载智能小程序，同时会自动检测云端是否有新的基础包版本，并异步下载。下载完成后，当用户下一次触发冷启动时，将使用新版本的基础包。


再次打开逻辑
-----
客户端单纯控制使智能小程序的前台展示，再次打开时会保留之前智能小程序的页面栈等所有内容。

